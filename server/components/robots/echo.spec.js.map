{"version":3,"sources":["components/robots/echo.spec.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAIA,SAAS,UAAT,EAAqB,YAAY;;AAE7B,QAAM,cAAc;AAChB,aAAI,MAAJ;AACA,aAAK,MAAL;KAFE,CAFuB;AAM7B,QAAI,WAAW,qBAAX,CANyB;AAO7B,QAAI,cAAc,0BAAuB,QAAvB,CAAd,CAPyB;AAQ7B,QAAI,OAAO,mBAAgB,WAAhB,CAAP,CARyB;;AAU7B,OAAG,mBAAH,EAAwB,YAAU;AAC9B,oBAAY,MAAZ,CAAmB,EAAnB,CAAsB,OAAtB,CAD8B;AAE9B,aAAK,MAAL,CAAY,EAAZ,CAAe,OAAf,CAF8B;KAAV,CAAxB,CAV6B;;AAe7B,OAAG,cAAH,EAAmB,YAAY;;AAE3B,YAAI,MAAM,YAAY,IAAZ,CAAiB,MAAjB,CAAN,CAFuB;AAG3B,YAAI,MAAJ,CAAW,EAAX,CAAc,OAAd,CAH2B;KAAZ,CAAnB,CAf6B;;AAqB7B,OAAG,iBAAH,EAAsB,UAAU,IAAV,EAAgB;;AAGlC,iBAAS,IAAT,CAAc,SAAS,YAAT,EAAuB,UAAU,MAAV,EAAkB,OAAlB,EAA2B;AAC5D,oBAAQ,GAAR,CAAY,aAAZ,EAA2B,OAA3B,EAD4D;AAE5D,mBAAO,YAAY,GAAZ,CAAP,CAAwB,EAAxB,CAA2B,EAA3B,CAA8B,QAAQ,GAAR,CAA9B,CAF4D;;AAI5D,mBAJ4D;SAA3B,CAArC,CAHkC;;AAUlC,iBAAS,IAAT,CAAc,SAAS,cAAT,EAAyB,EAAvC,EAA2C,KAAK,SAAL,CAAe,WAAf,CAA3C,EAVkC;KAAhB,CAAtB,CArB6B;CAAZ,CAArB","file":"components/robots/echo.spec.js","sourcesContent":["import eventBusFactory  from '../eventBus/index.js';\nimport robotMasterFactory from './robotMaster.js';\nimport echoFactory from './echo.js';\n\ndescribe('Echo Bot', function () {\n\n    const testMessage = {\n        bot:'echo',\n        msg: 'test'\n    };\n    var eventBus = new eventBusFactory();\n    var robotMaster = new robotMasterFactory(eventBus);\n    var echo = new echoFactory(robotMaster);\n\n    it('should be defined', function(){\n        robotMaster.should.be.defined;\n        echo.should.be.defined;\n    });\n\n    it('register bot', function () {\n\n        let bot = robotMaster.bots['echo'];\n        bot.should.be.defined;\n    });\n\n    it('dispatch events', function (done) {\n\n\n        eventBus.once(eventBus.SEND_MESSAGE, function (client, message) {\n            console.log('get message', message)\n            expect(testMessage.msg).to.be(message.msg);\n\n            done();\n        });\n\n        eventBus.emit(eventBus.SOCKET_MESSAGE, {}, JSON.stringify(testMessage));\n    });\n\n\n\n});"],"sourceRoot":"/source/"}